/* ==========================================================================
   BASE TABS STYLES
   ========================================================================== */

//* ===========================BLOCK
.tags {
    display: block;
    //* =======================ELEMENT
    &__row {
        @extend .row;
    }
    &__col {
        @extend .col;
        &--main {
            @extend .tags__col;
            width: gel-columns(1, 1);
            .card__media {
                width: gel-columns(1, 1);
            }
            .card__body {
                width: gel-columns(1, 1);
            }
            .card__data__wrapper {
                left: calc(0% + 8px);
                bottom: $gel-spacing-unit;
            }
        }
        &--3 {
            @extend .tags__col;
            width: gel-columns(1, 2);
            .card__date {
                border-right: none;
            }
            .card__heading {
                margin-bottom: 48px;
            }
            .card__media {
                width: 100%;
            }
            .card__body {
                width: 100%;
            }
            .card__data__wrapper {
                left: calc(0% + 8px);
                bottom: $gel-spacing-unit;
                width: 100%;
            }
            &:nth-child(3),
            &:nth-child(4),
            &:nth-child(5) {
                width: gel-columns(1, 1);
                .card__media {
                    width: 40%;
                    float: left;
                }
                .card__body {
                    width: 60%;
                }
                .card__data__wrapper {
                    position: relative;
                    left: calc(8px);
                    display: block;
                    width: 100%;
                    float: left;
                    margin-top: 16px;
                }
            }
        }
        &--list {
            @extend .tags__col;
            width: gel-columns(1, 1);
        }
    }
    //* =======================MODIFIER
    //* =======================BREAKPOINTS - xs, s, m, l
    @include bp(xs, min-width) {
        &__col {
            &--3 {
                &:nth-child(3),
                &:nth-child(4),
                &:nth-child(5) {
                    .card__data__wrapper {
                        position: absolute;
                        left: calc(40% + 8px);
                        bottom: $gel-spacing-unit;
                        width: 60%;
                        margin-top: 0;
                        float: none;
                    }
                }
            }
        }
    }
    @include bp(s, min-width, portrait) {
        &__col {
            &--main {
                .card__media {
                    width: gel-columns(1, 2);
                }
                .card__body {
                    width: gel-columns(1, 2);
                }
                .card__data__wrapper {
                    left: calc(50% + 16px);
                    bottom: double($gel-spacing-unit);
                }
            }
            &--3 {
                width: gel-columns(1, 3);
                .card__tag {
                    max-width: 40%;
                }
                .card__heading {
                    margin-bottom: double($gel-spacing-unit);
                }
                .card__data__wrapper {
                    left: calc(0% + 16px);
                    bottom: double($gel-spacing-unit);
                    width: gel-columns(1, 1);
                }
                &:nth-child(3),
                &:nth-child(4),
                &:nth-child(5) {
                    width: gel-columns(1, 3);
                    .card__media {
                        width: gel-columns(1, 1);
                    }
                    .card__body {
                        width: gel-columns(1, 1);
                    }
                    .card__data__wrapper {
                        left: calc(0% + 16px);
                        bottom: double($gel-spacing-unit);
                        width: gel-columns(1, 1);
                    }
                }
            }
        }
    }
    @include bp(m, min-width, true) {
        &__col {
            &--3 {
                .card__tag {
                    max-width: 50%;
                }
            }
        }
    }
    @include bp(l, min-width) {}
}

//* ===========================STYLE GUIDE

/*doc
---
title: Tag page
category: Modules - Tags
---

Module description goes here

```html_example
<section class="tags" id="results-container">
    <div class="tags__row">
        <a id="page-0" name="page-0"></a>
        <div class="tags__col--main">
            <div class="card">
                <div class="card__inner">
                    <a class="card__link" href="/academy/en/articles/art20130717124204700">
                    <div class="card__media">
                        <figure>
                            <img alt="" class="is-loaded" onerror="this.style.display='none'" src="https://ichef.bbci.co.uk/images/ic/624x351/p01cxk7k.jpg">
                            <div class="card__media-icon">
                                <span class="card__media-icon__svg"><svg>
                                <use xlink:href="#gel-icon-document" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg> <noscript>&lt;img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-document-purple.png" alt="media icon"/&gt;</noscript><!--[if lt IE 9]><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-document-purple.png" alt="media icon"/><![endif]--></span>
                            </div>
                            <figcaption class="icon__caption">
                                Content type article
                            </figcaption>
                        </figure>
                    </div><!-- End Card Media. -->
                    <div class="card__body">
                        <h3 class="card__heading">Why are trails and voiceovers so loud?</h3>
                        <p class="card__description">BBC broadcast technology trainer John Heraty looks at how the problem of inconsistent loudness is being...</p>
                    </div></a> <!-- End Card Body. -->
                    <div class="card__data__wrapper">
                        <span class="card__content-type">Article</span>
                    </div>
                </div>
            </div><!-- End Item card. -->
        </div>
        <div class="tags__col--3">
            <div class="card">
                <div class="card__inner">
                    <a class="card__link" href="/academy/en/articles/art20140303161136514">
                    <div class="card__media">
                        <figure>
                            <img alt="" class="is-loaded" onerror="this.style.display='none'" src="http://ichef.bbci.co.uk/images/ic/624x351/legacy/clip/p01sxrqx.jpg">
                            <div class="card__media-icon">
                                <span class="card__media-icon__svg"><svg>
                                <use xlink:href="#gel-icon-video" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg> <noscript>&lt;img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-video-purple.png" alt="media icon"/&gt;</noscript><!--[if lt IE 9]><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon==purple.png" alt="media icon"/><![endif]--></span>
                            </div>
                            <figcaption class="icon__caption">
                                Content type video
                            </figcaption>
                        </figure>
                    </div><!-- End Card Media. -->
                    <div class="card__body">
                        <h3 class="card__heading">Compelling TV with good audio</h3>
                        <p class="card__description">Sound Matters: Danny Cohen, Director of BBC TV, discusses the issues surrounding audio clarity</p>
                    </div></a> <!-- End Card Body. -->
                    <div class="card__data__wrapper">
                        <span class="card__content-type">Video</span>
                    </div>
                </div>
            </div><!-- End Item card. -->
        </div>
        <div class="tags__col--3">
            <div class="card">
                <div class="card__inner">
                    <a class="card__link" href="/academy/en/articles/art20130702112135335">
                    <div class="card__media">
                        <figure>
                            <img alt="" class="is-loaded" data-source="isURL" onerror="this.style.display='none'" src="http://downloads.bbc.co.uk/academy/collegeofproduction/images/clear_sound_recording_drama_tv_640x360.jpg">
                            <div class="card__media-icon">
                                <span class="card__media-icon__svg"><svg>
                                <use xlink:href="#gel-icon-video" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg> <noscript>&lt;img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-video-purple.png" alt="media icon"/&gt;</noscript><!--[if lt IE 9]><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon==purple.png" alt="media icon"/><![endif]--></span>
                            </div>
                            <figcaption class="icon__caption">
                                Content type video
                            </figcaption>
                        </figure>
                    </div><!-- End Card Media. -->
                    <div class="card__body">
                        <h3 class="card__heading">Clear sound: Recording drama</h3>
                        <p class="card__description">Hilary Salmon, executive producer for BBC Drama, gives an insight into getting clear audio, no matter how...</p>
                    </div></a> <!-- End Card Body. -->
                    <div class="card__data__wrapper">
                        <span class="card__content-type">Video</span>
                    </div>
                </div>
            </div><!-- End Item card. -->
        </div>
        <div class="tags__col--3">
            <div class="card">
                <div class="card__inner">
                    <a class="card__link" href="/academy/en/articles/art20130702112135342">
                    <div class="card__media">
                        <figure>
                            <img alt="" class="is-loaded" data-source="isURL" onerror="this.style.display='none'" src="http://downloads.bbc.co.uk/academy/collegeofproduction/images/clear_sound_self_shooting_tv_640x360.jpg">
                            <div class="card__media-icon">
                                <span class="card__media-icon__svg"><svg>
                                <use xlink:href="#gel-icon-video" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg> <noscript>&lt;img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-video-purple.png" alt="media icon"/&gt;</noscript><!--[if lt IE 9]><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon==purple.png" alt="media icon"/><![endif]--></span>
                            </div>
                            <figcaption class="icon__caption">
                                Content type video
                            </figcaption>
                        </figure>
                    </div><!-- End Card Media. -->
                    <div class="card__body">
                        <h3 class="card__heading">Clear sound: Self shooting</h3>
                        <p class="card__description">Freelance producer/director Jonothan McLeod gives practical advice on how to record clean sound when self...</p>
                    </div></a> <!-- End Card Body. -->
                    <div class="card__data__wrapper">
                        <span class="card__content-type">Video</span>
                    </div>
                </div>
            </div><!-- End Item card. -->
        </div>
        <div class="tags__col--list">
            <div class="card--result" id="art20130716141928123">
                <div class="card__inner">
                    <a class="card__link" href="/academy/en/articles/art20130716141928123">
                    <div class="card__media">
                        <figure>
                            <img alt="" class="is-loaded" onerror="this.style.display='none'" src="http://ichef.bbci.co.uk/images/ic/624x351/legacy/clip/p01df6s7.jpg">
                            <div class="card__media-icon">
                                <span class="card__media-icon__svg"><svg>
                                <use xlink:href="#gel-icon-video" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg> <noscript>&lt;img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-video-purple.png" alt="media icon"/&gt;</noscript><!--[if lt IE 9]><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon==purple.png" alt="media icon"/><![endif]--></span>
                            </div>
                            <figcaption class="icon__caption">
                                Content type video
                            </figcaption>
                        </figure>
                    </div><!-- End Card Media. -->
                    <div class="card__body">
                        <h3 class="card__heading">Measuring sound for loudness</h3>
                        <p class="card__description">Broadcast technology trainer John Heraty looks at new ways of measuring loudness</p>
                    </div><!-- End Card Body. --></a>
                    <div class="card__data__wrapper">
                        <span class="card__content-type">Video</span>
                    </div>
                </div>
            </div><!-- End Search result card. -->
        </div><a id="page-1" name="page-1"></a>
    </div>
    <div id="results-loaded">
        <div class="divider--end">
            <h6 class="divider__message">End of results</h6><span class="divider__line"></span>
        </div><!-- End of results. -->
    </div>
</section>
```

NUNJUKS

```
<section id="results-container" class="tags">
    <div class="tags__row">
        <a name="page-0"></a>
        {% for page in results | batch(pageSize) %}
            {% set pageCounter = loop.index %}
            {% for item in page %}
                {% set itemCounter = loop.index %}
                {% if activePage == 'tags' and pageCounter == 1 and itemCounter < 5 %}
                    {% include "partials/modules/results-feature.html" %}
                {% else %}
                    <div class="tags__col--list">
                        {% include "partials/modules/card--result.html" %}
                    </div>
                {% endif %}
            {% endfor %}
            <a name="page-{{ pageCounter }}"></a>
        {% endfor %}
    </div>

    {% if results %}
    <div id="results-loaded">
        {% if nextPage == 0 %}
            {% include "partials/snippets/end-of-results.html" %}
        {% else %}
            {% include "partials/snippets/loadmore.html" %}
        {% endif %}
    </div>
    {% endif %}
</section>
<!-- End Search results cards. -->
```

*/


/*doc
---
title: Article tags
category: Modules - Tags
---

Tags for articles are positioned absolute at screen widths greater than 1280px please ensure your screen is less than 1280px wide to see tags.

```html_example
<div class="locale--en">
    <article class="article">
        <header>
            <div class="data--article">
                <div class="data__type--block">
                    <div class="page__tag">
                        <div class="card__data__wrapper">
                            <span class="data__icon__svg"><svg>
                            <use xlink:href="#gel-icon-label" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg> <noscript>&lt;img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-label.png" alt="label icon"/&gt;</noscript><!--[if lt IE 9]><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-label.png" alt="label icon"/><![endif]--></span>
                        </div><a href="/academy/en/tags?q=radio-production">Radio Production</a>
                    </div>
                    <div class="page__tag">
                        <div class="card__data__wrapper">
                            <span class="data__icon__svg"><svg>
                            <use xlink:href="#gel-icon-label" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg> <noscript>&lt;img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-label.png" alt="label icon"/&gt;</noscript><!--[if lt IE 9]><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-label.png" alt="label icon"/><![endif]--></span>
                        </div><a href="/academy/en/tags?q=sound-quality">Sound Quality</a>
                    </div>
                </div>
            </div>
        </header>
    </article>
</div>
```

NUNJUKS

```
{% if tags and tags.length == 1 %}
<div class="data__type">
    {% for tag in tags %}
        <div class="page__tag">
            <div class="card__data__wrapper">
                <span class="data__icon__svg">
                    <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#gel-icon-label"></use></svg>
                    <noscript><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-label.png" alt="label icon"/></noscript><!--[if lt IE 9]><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-label.png" alt="label icon"/><![endif]-->
                </span>
            </div>
            <a href="{{ 'tags' | href }}?q={{ tag }}">{{ tag | tag  }}</a>
        </div>
    {% endfor %}
</div>
{% else %}
<div class="data__type--block">
    {% for tag in tags %}
        <div class="page__tag">
            <div class="card__data__wrapper">
                <span class="data__icon__svg">
                    <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#gel-icon-label"></use></svg>
                    <noscript><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-label.png" alt="label icon"/></noscript><!--[if lt IE 9]><img class="icon__falback" src="/academy/static/img/svg-fallbacks/gel-icon-label.png" alt="label icon"/><![endif]-->
                </span>
            </div>
            <a href="{{ 'tags' | href }}?q={{ tag }}">{{ tag | tag  }}</a>
        </div>
    {% endfor %}
</div>
{% endif %}
```

*/